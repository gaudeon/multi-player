<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Multi Player</title>
        <!-- Vendor Files -->
        <script src="vendor/phaser.js" type="text/javascript"></script>
        <script src="vendor/lodash.min.js" type="text/javascript"></script>
        <script src="vendor/webfontloader.js" type="text/javascript"></script>
        <script src="/eureca.js"></script>

        <!-- Src Files -->
        <script src="src/objects/asset_manager.js" type="text/javascript"></script>
        <script src="src/objects/flag.js" type="text/javascript"></script>
        <script src="src/objects/player.js" type="text/javascript"></script>
        <script src="src/objects/flags/flag_green_left.js" type="text/javascript"></script>
        <script src="src/objects/flags/flag_green_right.js" type="text/javascript"></script>
        <script src="src/objects/flags/flag_orange_left.js" type="text/javascript"></script>
        <script src="src/objects/flags/flag_orange_right.js" type="text/javascript"></script>
        <script src="src/states/loading.js" type="text/javascript"></script>
        <script src="src/states/play_game.js" type="text/javascript"></script>
    </head>
    <body>
        <script type="text/javascript">
            var game = new Phaser.Game(800, 600);
            Phaser.Device.whenReady(function () {
                // plugins
                this.game.__plugins = this.game.__plugins || {};

                // add plugins here
                // ...

                // setup global namespace under game for our global data
                game.global = {};

                // Connect to WebSocket server
                console.log("Connecting to WebSocket server...");
                game.global.readyWS = false;
                game.global.eurecaClient = new Eureca.Client();
                game.global.eurecaClient.ready(function (proxy) {
                    console.log("WebSocket client is ready!");
                    game.global.eurecaServer = proxy;
                    game.global.readyWS = true;
                });

                // states
                game.state.add('Loading', App.LoadingState);
                game.state.add('PlayGame', App.PlayGameState);

                game.state.start('Loading');
            });
        </script>
    </body>
</html>
